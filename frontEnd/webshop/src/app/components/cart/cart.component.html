<div class="cartWrapper">

  <p>Total items in cart: {{ this.cartService.totalItems }}</p>
  <hr>

  <div class="cartProduct" *ngFor="let product of this.cartService.products">
    <table class="productTable" *ngIf="product.amount > 0">
      <tr>
        <td>{{ product.productName }} {{ product.amount }} pcs</td>
        <td>{{ product.totalPrice | currency }}</td>
        <td><i class="material-icons icon" (click)="deduct(product.productName)">remove_circle</i></td>
        <td><i class="material-icons icon" (click)="add(product.productName)">add_circle</i></td>
      </tr>
    </table>
  </div>

  <hr>
  <p>Items total price ( without shipping ): {{ this.cartService.totalPrice | currency }}</p>

  <hr>
  <p>Select a shipping option:</p>


  <div>
    <form [formGroup]="shippingOptionsForm" (ngSubmit)="onSubmit()">

      <div *ngFor="let option of this.cartService.shippingOptions">
        <input type="radio" formControlName="shipping" name="shipping" value="{{option.name}}" id="{{option.name}}">
        <label for="{{option.name}}">{{option.name}} {{option.cost | currency}} Delivery time is between {{option.minDays}} and {{option.maxDays}} days.</label>
      </div>

      <div *ngIf="isSubmitted && myForm.invalid">
        Please select either value
      </div>

      <button type="submit">Submit</button>

    </form>
  </div>


  <p>Items total price ( with shipping ): {{ this.cartService.totalPrice + this.cartService.selectedShippingOption.cost | currency }}</p>

  
  <hr>
  <table>
    <tr>
      <td><button *ngIf="this.cartService.totalItems > 0" class="MYbutton" (click)="clearCart()">Clear Cart</button>
      </td>
      <td><button *ngIf="this.cartService.totalItems > 0" class="MYbutton" (click)="proceedToCheckout()">Proceed to
          Checkout</button></td>
    </tr>
  </table>


</div>